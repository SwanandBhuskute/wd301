import{A as s}from"./index-HuJDM1LC.js";import{b as o}from"./context-A1qgozf3.js";const l=async(e,t,n)=>{const r=localStorage.getItem("authToken")??"";try{if(e({type:o.CREATE_TASK_REQUEST}),!(await fetch(`${s}/projects/${t}/tasks/`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(n)})).ok)throw new Error("Failed to create task");e({type:o.CREATE_TASK_SUCCESS}),E(e,t)}catch(a){console.error("Operation failed:",a),e({type:o.CREATE_TASK_FAILURE,payload:"Unable to create task"})}},i=(e,t)=>{e({type:o.REORDER_TASKS,payload:t})},E=async(e,t)=>{const n=localStorage.getItem("authToken")??"";try{e({type:o.FETCH_TASKS_REQUEST});const r=await fetch(`${s}/projects/${t}/tasks`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`}});if(!r.ok)throw new Error("Failed to fetch tasks");const a=await r.json();e({type:o.FETCH_TASKS_SUCCESS,payload:a}),console.dir(a)}catch(r){console.error("Operation failed:",r),e({type:o.FETCH_TASKS_FAILURE,payload:"Unable to load tasks"})}},p=async(e,t,n)=>{const r=localStorage.getItem("authToken")??"";try{if(e({type:o.DELETE_TASKS_REQUEST}),!(await fetch(`${s}/projects/${t}/tasks/${n.id}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(n)})).ok)throw new Error("Failed to delete task");e({type:o.DELETE_TASKS_SUCCESS}),E(e,t)}catch(a){console.error("Operation failed:",a),e({type:o.DELETE_TASKS_FAILURE,payload:"Unable to delete task"})}},c=async(e,t,n)=>{const r=localStorage.getItem("authToken")??"";try{if(e({type:o.UPDATE_TASK_REQUEST}),!(await fetch(`${s}/projects/${t}/tasks/${n.id}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(n)})).ok)throw new Error("Failed to update task");e({type:o.UPDATE_TASK_SUCCESS}),E(e,t)}catch(a){console.error("Operation failed:",a),e({type:o.UPDATE_TASK_FAILURE,payload:"Unable to update task"})}};export{l as a,E as b,p as d,i as r,c as u};
