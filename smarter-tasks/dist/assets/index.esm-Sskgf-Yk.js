import{r as p,p as G,s as ir,a2 as vt,a3 as lr,U as de,y as fe,a4 as pt,a5 as Re,t as Ce,a6 as We,a7 as Ae,z as ar,R as F,E as ut,F as ct,H as ye,a8 as Nt,a9 as me,aa as or,ab as ur,ac as Bt,n as $e,i as cr,ad as dt,ae as dr,X as Ut,o as xt,af as fr,I as Oe,K as yr,C as He,v as gr,ag as hr,V as vr,W as pr}from"./index-NHPz5pax.js";function mt(e,r){let n=p.useRef([]),t=G(e);p.useEffect(()=>{let i=[...n.current];for(let[l,a]of r.entries())if(n.current[l]!==a){let c=t(r,i);return n.current=r,c}},[t,...r])}function mr(e){function r(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",r))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",r),r())}let ue=[];mr(()=>{function e(r){r.target instanceof HTMLElement&&r.target!==document.body&&ue[0]!==r.target&&(ue.unshift(r.target),ue=ue.filter(n=>n!=null&&n.isConnected),ue.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function It(e,r,n,t){let i=ir(n);p.useEffect(()=>{e=e??window;function l(a){i.current(a)}return e.addEventListener(r,l,t),()=>e.removeEventListener(r,l,t)},[e,r,t])}function Ht(e){let r=G(e),n=p.useRef(!1);p.useEffect(()=>(n.current=!1,()=>{n.current=!0,vt(()=>{n.current&&r()})}),[r])}var ke=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(ke||{});function br(){let e=p.useRef(0);return lr("keydown",r=>{r.key==="Tab"&&(e.current=r.shiftKey?1:0)},!0),e}function Wt(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let r=new Set;for(let n of e.current)n.current instanceof HTMLElement&&r.add(n.current);return r}let Er="div";var qt=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(qt||{});function wr(e,r){let n=p.useRef(null),t=fe(n,r),{initialFocus:i,containers:l,features:a=30,...c}=e;pt()||(a=1);let f=Re(n);Dr({ownerDocument:f},!!(a&16));let A=Fr({ownerDocument:f,container:n,initialFocus:i},!!(a&2));Sr({ownerDocument:f,container:n,containers:l,previousActiveElement:A},!!(a&8));let E=br(),m=G(I=>{let M=n.current;M&&(B=>B())(()=>{Ce(E.current,{[ke.Forwards]:()=>{We(M,Ae.First,{skipElements:[I.relatedTarget]})},[ke.Backwards]:()=>{We(M,Ae.Last,{skipElements:[I.relatedTarget]})}})})}),b=ar(),P=p.useRef(!1),V={ref:t,onKeyDown(I){I.key=="Tab"&&(P.current=!0,b.requestAnimationFrame(()=>{P.current=!1}))},onBlur(I){let M=Wt(l);n.current instanceof HTMLElement&&M.add(n.current);let B=I.relatedTarget;B instanceof HTMLElement&&B.dataset.headlessuiFocusGuard!=="true"&&(Yt(M,B)||(P.current?We(n.current,Ce(E.current,{[ke.Forwards]:()=>Ae.Next,[ke.Backwards]:()=>Ae.Previous})|Ae.WrapAround,{relativeTo:I.target}):I.target instanceof HTMLElement&&me(I.target)))}};return F.createElement(F.Fragment,null,!!(a&4)&&F.createElement(ut,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:m,features:ct.Focusable}),ye({ourProps:V,theirProps:c,defaultTag:Er,name:"FocusTrap"}),!!(a&4)&&F.createElement(ut,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:m,features:ct.Focusable}))}let _r=de(wr),xe=Object.assign(_r,{features:qt});function Ar(e=!0){let r=p.useRef(ue.slice());return mt(([n],[t])=>{t===!0&&n===!1&&vt(()=>{r.current.splice(0)}),t===!1&&n===!0&&(r.current=ue.slice())},[e,ue,r]),G(()=>{var n;return(n=r.current.find(t=>t!=null&&t.isConnected))!=null?n:null})}function Dr({ownerDocument:e},r){let n=Ar(r);mt(()=>{r||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&me(n())},[r]),Ht(()=>{r&&me(n())})}function Fr({ownerDocument:e,container:r,initialFocus:n},t){let i=p.useRef(null),l=Nt();return mt(()=>{if(!t)return;let a=r.current;a&&vt(()=>{if(!l.current)return;let c=e==null?void 0:e.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===c){i.current=c;return}}else if(a.contains(c)){i.current=c;return}n!=null&&n.current?me(n.current):We(a,Ae.First)===or.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),i.current=e==null?void 0:e.activeElement})},[t]),i}function Sr({ownerDocument:e,container:r,containers:n,previousActiveElement:t},i){let l=Nt();It(e==null?void 0:e.defaultView,"focus",a=>{if(!i||!l.current)return;let c=Wt(n);r.current instanceof HTMLElement&&c.add(r.current);let f=t.current;if(!f)return;let A=a.target;A&&A instanceof HTMLElement?Yt(c,A)?(t.current=A,me(A)):(a.preventDefault(),a.stopPropagation(),me(f)):me(t.current)},!0)}function Yt(e,r){for(let n of e)if(n.contains(r))return!0;return!1}let jt=p.createContext(!1);function xr(){return p.useContext(jt)}function ft(e){return F.createElement(jt.Provider,{value:e.force},e.children)}function Tr(e){let r=xr(),n=p.useContext(Gt),t=Re(e),[i,l]=p.useState(()=>{if(!r&&n!==null||Bt.isServer)return null;let a=t==null?void 0:t.getElementById("headlessui-portal-root");if(a)return a;if(t===null)return null;let c=t.createElement("div");return c.setAttribute("id","headlessui-portal-root"),t.body.appendChild(c)});return p.useEffect(()=>{i!==null&&(t!=null&&t.body.contains(i)||t==null||t.body.appendChild(i))},[i,t]),p.useEffect(()=>{r||n!==null&&l(n.current)},[n,l,r]),i}let Vr=p.Fragment;function kr(e,r){let n=e,t=p.useRef(null),i=fe(ur(E=>{t.current=E}),r),l=Re(t),a=Tr(t),[c]=p.useState(()=>{var E;return Bt.isServer?null:(E=l==null?void 0:l.createElement("div"))!=null?E:null}),f=p.useContext(yt),A=pt();return $e(()=>{!a||!c||a.contains(c)||(c.setAttribute("data-headlessui-portal",""),a.appendChild(c))},[a,c]),$e(()=>{if(c&&f)return f.register(c)},[f,c]),Ht(()=>{var E;!a||!c||(c instanceof Node&&a.contains(c)&&a.removeChild(c),a.childNodes.length<=0&&((E=a.parentElement)==null||E.removeChild(a)))}),A?!a||!c?null:cr.createPortal(ye({ourProps:{ref:i},theirProps:n,defaultTag:Vr,name:"Portal"}),c):null}let Lr=p.Fragment,Gt=p.createContext(null);function Cr(e,r){let{target:n,...t}=e,i={ref:fe(r)};return F.createElement(Gt.Provider,{value:n},ye({ourProps:i,theirProps:t,defaultTag:Lr,name:"Popover.Group"}))}let yt=p.createContext(null);function $r(){let e=p.useContext(yt),r=p.useRef([]),n=G(l=>(r.current.push(l),e&&e.register(l),()=>t(l))),t=G(l=>{let a=r.current.indexOf(l);a!==-1&&r.current.splice(a,1),e&&e.unregister(l)}),i=p.useMemo(()=>({register:n,unregister:t,portals:r}),[n,t,r]);return[r,p.useMemo(()=>function({children:l}){return F.createElement(yt.Provider,{value:i},l)},[i])]}let Rr=de(kr),Or=de(Cr),gt=Object.assign(Rr,{Group:Or});function Pr(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}const Mr=typeof Object.is=="function"?Object.is:Pr,{useState:Nr,useEffect:Br,useLayoutEffect:Ur,useDebugValue:Ir}=dt;function Hr(e,r,n){const t=r(),[{inst:i},l]=Nr({inst:{value:t,getSnapshot:r}});return Ur(()=>{i.value=t,i.getSnapshot=r,rt(i)&&l({inst:i})},[e,t,r]),Br(()=>(rt(i)&&l({inst:i}),e(()=>{rt(i)&&l({inst:i})})),[e]),Ir(t),t}function rt(e){const r=e.getSnapshot,n=e.value;try{const t=r();return!Mr(n,t)}catch{return!0}}function Wr(e,r,n){return r()}const qr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Yr=!qr,jr=Yr?Wr:Hr,Gr="useSyncExternalStore"in dt?(e=>e.useSyncExternalStore)(dt):jr;function Kr(e){return Gr(e.subscribe,e.getSnapshot,e.getSnapshot)}function zr(e,r){let n=e(),t=new Set;return{getSnapshot(){return n},subscribe(i){return t.add(i),()=>t.delete(i)},dispatch(i,...l){let a=r[i].call(n,...l);a&&(n=a,t.forEach(c=>c()))}}}function Xr(){let e;return{before({doc:r}){var n;let t=r.documentElement;e=((n=r.defaultView)!=null?n:window).innerWidth-t.clientWidth},after({doc:r,d:n}){let t=r.documentElement,i=t.clientWidth-t.offsetWidth,l=e-i;n.style(t,"paddingRight",`${l}px`)}}}function Jr(){return dr()?{before({doc:e,d:r,meta:n}){function t(i){return n.containers.flatMap(l=>l()).some(l=>l.contains(i))}r.microTask(()=>{var i;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let c=Ut();c.style(e.documentElement,"scrollBehavior","auto"),r.add(()=>r.microTask(()=>c.dispose()))}let l=(i=window.scrollY)!=null?i:window.pageYOffset,a=null;r.addEventListener(e,"click",c=>{if(c.target instanceof HTMLElement)try{let f=c.target.closest("a");if(!f)return;let{hash:A}=new URL(f.href),E=e.querySelector(A);E&&!t(E)&&(a=E)}catch{}},!0),r.addEventListener(e,"touchstart",c=>{if(c.target instanceof HTMLElement)if(t(c.target)){let f=c.target;for(;f.parentElement&&t(f.parentElement);)f=f.parentElement;r.style(f,"overscrollBehavior","contain")}else r.style(c.target,"touchAction","none")}),r.addEventListener(e,"touchmove",c=>{if(c.target instanceof HTMLElement)if(t(c.target)){let f=c.target;for(;f.parentElement&&f.dataset.headlessuiPortal!==""&&!(f.scrollHeight>f.clientHeight||f.scrollWidth>f.clientWidth);)f=f.parentElement;f.dataset.headlessuiPortal===""&&c.preventDefault()}else c.preventDefault()},{passive:!1}),r.add(()=>{var c;let f=(c=window.scrollY)!=null?c:window.pageYOffset;l!==f&&window.scrollTo(0,l),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})})}}:{}}function Qr(){return{before({doc:e,d:r}){r.style(e.documentElement,"overflow","hidden")}}}function Zr(e){let r={};for(let n of e)Object.assign(r,n(r));return r}let ve=zr(()=>new Map,{PUSH(e,r){var n;let t=(n=this.get(e))!=null?n:{doc:e,count:0,d:Ut(),meta:new Set};return t.count++,t.meta.add(r),this.set(e,t),this},POP(e,r){let n=this.get(e);return n&&(n.count--,n.meta.delete(r)),this},SCROLL_PREVENT({doc:e,d:r,meta:n}){let t={doc:e,d:r,meta:Zr(n)},i=[Jr(),Xr(),Qr()];i.forEach(({before:l})=>l==null?void 0:l(t)),i.forEach(({after:l})=>l==null?void 0:l(t))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});ve.subscribe(()=>{let e=ve.getSnapshot(),r=new Map;for(let[n]of e)r.set(n,n.documentElement.style.overflow);for(let n of e.values()){let t=r.get(n.doc)==="hidden",i=n.count!==0;(i&&!t||!i&&t)&&ve.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&ve.dispatch("TEARDOWN",n)}});function en(e,r,n){let t=Kr(ve),i=e?t.get(e):void 0,l=i?i.count>0:!1;return $e(()=>{if(!(!e||!r))return ve.dispatch("PUSH",e,n),()=>ve.dispatch("POP",e,n)},[r,e]),l}let nt=new Map,Te=new Map;function Tt(e,r=!0){$e(()=>{var n;if(!r)return;let t=typeof e=="function"?e():e.current;if(!t)return;function i(){var a;if(!t)return;let c=(a=Te.get(t))!=null?a:1;if(c===1?Te.delete(t):Te.set(t,c-1),c!==1)return;let f=nt.get(t);f&&(f["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",f["aria-hidden"]),t.inert=f.inert,nt.delete(t))}let l=(n=Te.get(t))!=null?n:0;return Te.set(t,l+1),l!==0||(nt.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0),i},[e,r])}function tn({defaultContainers:e=[],portals:r,mainTreeNodeRef:n}={}){var t;let i=p.useRef((t=n==null?void 0:n.current)!=null?t:null),l=Re(i),a=G(()=>{var c,f,A;let E=[];for(let m of e)m!==null&&(m instanceof HTMLElement?E.push(m):"current"in m&&m.current instanceof HTMLElement&&E.push(m.current));if(r!=null&&r.current)for(let m of r.current)E.push(m);for(let m of(c=l==null?void 0:l.querySelectorAll("html > *, body > *"))!=null?c:[])m!==document.body&&m!==document.head&&m instanceof HTMLElement&&m.id!=="headlessui-portal-root"&&(m.contains(i.current)||m.contains((A=(f=i.current)==null?void 0:f.getRootNode())==null?void 0:A.host)||E.some(b=>m.contains(b))||E.push(m));return E});return{resolveContainers:a,contains:G(c=>a().some(f=>f.contains(c))),mainTreeNodeRef:i,MainTreeNode:p.useMemo(()=>function(){return n!=null?null:F.createElement(ut,{features:ct.Hidden,ref:i})},[i,n])}}let bt=p.createContext(()=>{});bt.displayName="StackContext";var ht=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(ht||{});function rn(){return p.useContext(bt)}function nn({children:e,onUpdate:r,type:n,element:t,enabled:i}){let l=rn(),a=G((...c)=>{r==null||r(...c),l(...c)});return $e(()=>{let c=i===void 0||i===!0;return c&&a(0,n,t),()=>{c&&a(1,n,t)}},[a,n,t,i]),F.createElement(bt.Provider,{value:a},e)}var sn=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(sn||{}),ln=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(ln||{});let an={0(e,r){return e.titleId===r.id?e:{...e,titleId:r.id}}},Ye=p.createContext(null);Ye.displayName="DialogContext";function Pe(e){let r=p.useContext(Ye);if(r===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Pe),n}return r}function on(e,r,n=()=>[document.body]){en(e,r,t=>{var i;return{containers:[...(i=t.containers)!=null?i:[],n]}})}function un(e,r){return Ce(r.type,an,e,r)}let cn="div",dn=xt.RenderStrategy|xt.Static;function fn(e,r){let n=Oe(),{id:t=`headlessui-dialog-${n}`,open:i,onClose:l,initialFocus:a,role:c="dialog",__demoMode:f=!1,...A}=e,[E,m]=p.useState(0),b=p.useRef(!1);c=function(){return c==="dialog"||c==="alertdialog"?c:(b.current||(b.current=!0,console.warn(`Invalid role [${c}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let P=yr();i===void 0&&P!==null&&(i=(P&He.Open)===He.Open);let V=p.useRef(null),I=fe(V,r),M=Re(V),B=e.hasOwnProperty("open")||P!==null,w=e.hasOwnProperty("onClose");if(!B&&!w)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!B)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!w)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof i!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${i}`);if(typeof l!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${l}`);let k=i?0:1,[q,$]=p.useReducer(un,{titleId:null,descriptionId:null,panelRef:p.createRef()}),K=G(()=>l(!1)),ie=G(L=>$({type:0,id:L})),oe=pt()?f?!1:k===0:!1,H=E>1,te=p.useContext(Ye)!==null,[Z,D]=$r(),_={get current(){var L;return(L=q.panelRef.current)!=null?L:V.current}},{resolveContainers:x,mainTreeNodeRef:R,MainTreeNode:Y}=tn({portals:Z,defaultContainers:[_]}),z=H?"parent":"leaf",re=P!==null?(P&He.Closing)===He.Closing:!1,ge=te||re?!1:oe,be=p.useCallback(()=>{var L,X;return(X=Array.from((L=M==null?void 0:M.querySelectorAll("body > *"))!=null?L:[]).find(j=>j.id==="headlessui-portal-root"?!1:j.contains(R.current)&&j instanceof HTMLElement))!=null?X:null},[R]);Tt(be,ge);let Fe=H?!0:oe,Be=p.useCallback(()=>{var L,X;return(X=Array.from((L=M==null?void 0:M.querySelectorAll("[data-headlessui-portal]"))!=null?L:[]).find(j=>j.contains(R.current)&&j instanceof HTMLElement))!=null?X:null},[R]);Tt(Be,Fe),gr(x,K,!(!oe||H));let Je=!(H||k!==0);It(M==null?void 0:M.defaultView,"keydown",L=>{Je&&(L.defaultPrevented||L.key===vr.Escape&&(L.preventDefault(),L.stopPropagation(),K()))}),on(M,!(re||k!==0||te),x),p.useEffect(()=>{if(k!==0||!V.current)return;let L=new ResizeObserver(X=>{for(let j of X){let he=j.target.getBoundingClientRect();he.x===0&&he.y===0&&he.width===0&&he.height===0&&K()}});return L.observe(V.current),()=>L.disconnect()},[k,V,K]);let[Ze,Se]=hr(),Ue=p.useMemo(()=>[{dialogState:k,close:K,setTitleId:ie},q],[k,q,K,ie]),Ee=p.useMemo(()=>({open:k===0}),[k]),Ie={ref:I,id:t,role:c,"aria-modal":k===0?!0:void 0,"aria-labelledby":q.titleId,"aria-describedby":Ze};return F.createElement(nn,{type:"Dialog",enabled:k===0,element:V,onUpdate:G((L,X)=>{X==="Dialog"&&Ce(L,{[ht.Add]:()=>m(j=>j+1),[ht.Remove]:()=>m(j=>j-1)})})},F.createElement(ft,{force:!0},F.createElement(gt,null,F.createElement(Ye.Provider,{value:Ue},F.createElement(gt.Group,{target:V},F.createElement(ft,{force:!1},F.createElement(Se,{slot:Ee,name:"Dialog.Description"},F.createElement(xe,{initialFocus:a,containers:x,features:oe?Ce(z,{parent:xe.features.RestoreFocus,leaf:xe.features.All&~xe.features.FocusLock}):xe.features.None},F.createElement(D,null,ye({ourProps:Ie,theirProps:A,slot:Ee,defaultTag:cn,features:dn,visible:k===0,name:"Dialog"}))))))))),F.createElement(Y,null))}let yn="div";function gn(e,r){let n=Oe(),{id:t=`headlessui-dialog-overlay-${n}`,...i}=e,[{dialogState:l,close:a}]=Pe("Dialog.Overlay"),c=fe(r),f=G(E=>{if(E.target===E.currentTarget){if(pr(E.currentTarget))return E.preventDefault();E.preventDefault(),E.stopPropagation(),a()}}),A=p.useMemo(()=>({open:l===0}),[l]);return ye({ourProps:{ref:c,id:t,"aria-hidden":!0,onClick:f},theirProps:i,slot:A,defaultTag:yn,name:"Dialog.Overlay"})}let hn="div";function vn(e,r){let n=Oe(),{id:t=`headlessui-dialog-backdrop-${n}`,...i}=e,[{dialogState:l},a]=Pe("Dialog.Backdrop"),c=fe(r);p.useEffect(()=>{if(a.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[a.panelRef]);let f=p.useMemo(()=>({open:l===0}),[l]);return F.createElement(ft,{force:!0},F.createElement(gt,null,ye({ourProps:{ref:c,id:t,"aria-hidden":!0},theirProps:i,slot:f,defaultTag:hn,name:"Dialog.Backdrop"})))}let pn="div";function mn(e,r){let n=Oe(),{id:t=`headlessui-dialog-panel-${n}`,...i}=e,[{dialogState:l},a]=Pe("Dialog.Panel"),c=fe(r,a.panelRef),f=p.useMemo(()=>({open:l===0}),[l]),A=G(E=>{E.stopPropagation()});return ye({ourProps:{ref:c,id:t,onClick:A},theirProps:i,slot:f,defaultTag:pn,name:"Dialog.Panel"})}let bn="h2";function En(e,r){let n=Oe(),{id:t=`headlessui-dialog-title-${n}`,...i}=e,[{dialogState:l,setTitleId:a}]=Pe("Dialog.Title"),c=fe(r);p.useEffect(()=>(a(t),()=>a(null)),[t,a]);let f=p.useMemo(()=>({open:l===0}),[l]);return ye({ourProps:{ref:c,id:t},theirProps:i,slot:f,defaultTag:bn,name:"Dialog.Title"})}let wn=de(fn),_n=de(vn),An=de(mn),Dn=de(gn),Fn=de(En),zn=Object.assign(wn,{Backdrop:_n,Panel:An,Overlay:Dn,Title:Fn,Description:fr});var Me=e=>e.type==="checkbox",De=e=>e instanceof Date,W=e=>e==null;const Kt=e=>typeof e=="object";var O=e=>!W(e)&&!Array.isArray(e)&&Kt(e)&&!De(e),Sn=e=>O(e)&&e.target?Me(e.target)?e.target.checked:e.target.value:e,xn=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Tn=(e,r)=>e.has(xn(r)),Vn=e=>{const r=e.constructor&&e.constructor.prototype;return O(r)&&r.hasOwnProperty("isPrototypeOf")},Et=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function J(e){let r;const n=Array.isArray(e);if(e instanceof Date)r=new Date(e);else if(e instanceof Set)r=new Set(e);else if(!(Et&&(e instanceof Blob||e instanceof FileList))&&(n||O(e)))if(r=n?[]:{},!n&&!Vn(e))r=e;else for(const t in e)e.hasOwnProperty(t)&&(r[t]=J(e[t]));else return e;return r}var Ne=e=>Array.isArray(e)?e.filter(Boolean):[],C=e=>e===void 0,h=(e,r,n)=>{if(!r||!O(e))return n;const t=Ne(r.split(/[,[\].]+?/)).reduce((i,l)=>W(i)?i:i[l],e);return C(t)||t===e?C(e[r])?n:e[r]:t},ae=e=>typeof e=="boolean";const Vt={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ee={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},le={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};F.createContext(null);var kn=(e,r,n,t=!0)=>{const i={defaultValues:r._defaultValues};for(const l in e)Object.defineProperty(i,l,{get:()=>{const a=l;return r._proxyFormState[a]!==ee.all&&(r._proxyFormState[a]=!t||ee.all),n&&(n[a]=!0),e[a]}});return i},Q=e=>O(e)&&!Object.keys(e).length,Ln=(e,r,n,t)=>{n(e);const{name:i,...l}=e;return Q(l)||Object.keys(l).length>=Object.keys(r).length||Object.keys(l).find(a=>r[a]===(!t||ee.all))},st=e=>Array.isArray(e)?e:[e];function Cn(e){const r=F.useRef(e);r.current=e,F.useEffect(()=>{const n=!e.disabled&&r.current.subject&&r.current.subject.subscribe({next:r.current.next});return()=>{n&&n.unsubscribe()}},[e.disabled])}var se=e=>typeof e=="string",$n=(e,r,n,t,i)=>se(e)?(t&&r.watch.add(e),h(n,e,i)):Array.isArray(e)?e.map(l=>(t&&r.watch.add(l),h(n,l))):(t&&(r.watchAll=!0),n),wt=e=>/^\w*$/.test(e),zt=e=>Ne(e.replace(/["|']|\]/g,"").split(/\.|\[/)),T=(e,r,n)=>{let t=-1;const i=wt(r)?[r]:zt(r),l=i.length,a=l-1;for(;++t<l;){const c=i[t];let f=n;if(t!==a){const A=e[c];f=O(A)||Array.isArray(A)?A:isNaN(+i[t+1])?{}:[]}e[c]=f,e=e[c]}return e},Rn=(e,r,n,t,i)=>r?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[t]:i||!0}}:{},kt=e=>({isOnSubmit:!e||e===ee.onSubmit,isOnBlur:e===ee.onBlur,isOnChange:e===ee.onChange,isOnAll:e===ee.all,isOnTouch:e===ee.onTouched}),Lt=(e,r,n)=>!n&&(r.watchAll||r.watch.has(e)||[...r.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));const Le=(e,r,n,t)=>{for(const i of n||Object.keys(e)){const l=h(e,i);if(l){const{_f:a,...c}=l;if(a){if(a.refs&&a.refs[0]&&r(a.refs[0],i)&&!t)break;if(a.ref&&r(a.ref,a.name)&&!t)break;Le(c,r)}else O(c)&&Le(c,r)}}};var On=(e,r,n)=>{const t=Ne(h(e,n));return T(t,"root",r[n]),T(e,n,t),e},_t=e=>e.type==="file",ce=e=>typeof e=="function",je=e=>{if(!Et)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},qe=e=>se(e),At=e=>e.type==="radio",Ge=e=>e instanceof RegExp;const Ct={value:!1,isValid:!1},$t={value:!0,isValid:!0};var Xt=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!C(e[0].attributes.value)?C(e[0].value)||e[0].value===""?$t:{value:e[0].value,isValid:!0}:$t:Ct}return Ct};const Rt={isValid:!1,value:null};var Jt=e=>Array.isArray(e)?e.reduce((r,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:r,Rt):Rt;function Ot(e,r,n="validate"){if(qe(e)||Array.isArray(e)&&e.every(qe)||ae(e)&&!e)return{type:n,message:qe(e)?e:"",ref:r}}var _e=e=>O(e)&&!Ge(e)?e:{value:e,message:""},Pt=async(e,r,n,t,i)=>{const{ref:l,refs:a,required:c,maxLength:f,minLength:A,min:E,max:m,pattern:b,validate:P,name:V,valueAsNumber:I,mount:M,disabled:B}=e._f,w=h(r,V);if(!M||B)return{};const k=a?a[0]:l,q=D=>{t&&k.reportValidity&&(k.setCustomValidity(ae(D)?"":D||""),k.reportValidity())},$={},K=At(l),ie=Me(l),oe=K||ie,H=(I||_t(l))&&C(l.value)&&C(w)||je(l)&&l.value===""||w===""||Array.isArray(w)&&!w.length,te=Rn.bind(null,V,n,$),Z=(D,_,x,R=le.maxLength,Y=le.minLength)=>{const z=D?_:x;$[V]={type:D?R:Y,message:z,ref:l,...te(D?R:Y,z)}};if(i?!Array.isArray(w)||!w.length:c&&(!oe&&(H||W(w))||ae(w)&&!w||ie&&!Xt(a).isValid||K&&!Jt(a).isValid)){const{value:D,message:_}=qe(c)?{value:!!c,message:c}:_e(c);if(D&&($[V]={type:le.required,message:_,ref:k,...te(le.required,_)},!n))return q(_),$}if(!H&&(!W(E)||!W(m))){let D,_;const x=_e(m),R=_e(E);if(!W(w)&&!isNaN(w)){const Y=l.valueAsNumber||w&&+w;W(x.value)||(D=Y>x.value),W(R.value)||(_=Y<R.value)}else{const Y=l.valueAsDate||new Date(w),z=be=>new Date(new Date().toDateString()+" "+be),re=l.type=="time",ge=l.type=="week";se(x.value)&&w&&(D=re?z(w)>z(x.value):ge?w>x.value:Y>new Date(x.value)),se(R.value)&&w&&(_=re?z(w)<z(R.value):ge?w<R.value:Y<new Date(R.value))}if((D||_)&&(Z(!!D,x.message,R.message,le.max,le.min),!n))return q($[V].message),$}if((f||A)&&!H&&(se(w)||i&&Array.isArray(w))){const D=_e(f),_=_e(A),x=!W(D.value)&&w.length>+D.value,R=!W(_.value)&&w.length<+_.value;if((x||R)&&(Z(x,D.message,_.message),!n))return q($[V].message),$}if(b&&!H&&se(w)){const{value:D,message:_}=_e(b);if(Ge(D)&&!w.match(D)&&($[V]={type:le.pattern,message:_,ref:l,...te(le.pattern,_)},!n))return q(_),$}if(P){if(ce(P)){const D=await P(w,r),_=Ot(D,k);if(_&&($[V]={..._,...te(le.validate,_.message)},!n))return q(_.message),$}else if(O(P)){let D={};for(const _ in P){if(!Q(D)&&!n)break;const x=Ot(await P[_](w,r),k,_);x&&(D={...x,...te(_,x.message)},q(x.message),n&&($[V]=D))}if(!Q(D)&&($[V]={ref:k,...D},!n))return $}}return q(!0),$};function Pn(e,r){const n=r.slice(0,-1).length;let t=0;for(;t<n;)e=C(e)?t++:e[r[t++]];return e}function Mn(e){for(const r in e)if(e.hasOwnProperty(r)&&!C(e[r]))return!1;return!0}function U(e,r){const n=Array.isArray(r)?r:wt(r)?[r]:zt(r),t=n.length===1?e:Pn(e,n),i=n.length-1,l=n[i];return t&&delete t[l],i!==0&&(O(t)&&Q(t)||Array.isArray(t)&&Mn(t))&&U(e,n.slice(0,-1)),e}var it=()=>{let e=[];return{get observers(){return e},next:i=>{for(const l of e)l.next&&l.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(l=>l!==i)}}),unsubscribe:()=>{e=[]}}},Ke=e=>W(e)||!Kt(e);function pe(e,r){if(Ke(e)||Ke(r))return e===r;if(De(e)&&De(r))return e.getTime()===r.getTime();const n=Object.keys(e),t=Object.keys(r);if(n.length!==t.length)return!1;for(const i of n){const l=e[i];if(!t.includes(i))return!1;if(i!=="ref"){const a=r[i];if(De(l)&&De(a)||O(l)&&O(a)||Array.isArray(l)&&Array.isArray(a)?!pe(l,a):l!==a)return!1}}return!0}var Qt=e=>e.type==="select-multiple",Nn=e=>At(e)||Me(e),lt=e=>je(e)&&e.isConnected,Zt=e=>{for(const r in e)if(ce(e[r]))return!0;return!1};function ze(e,r={}){const n=Array.isArray(e);if(O(e)||n)for(const t in e)Array.isArray(e[t])||O(e[t])&&!Zt(e[t])?(r[t]=Array.isArray(e[t])?[]:{},ze(e[t],r[t])):W(e[t])||(r[t]=!0);return r}function er(e,r,n){const t=Array.isArray(e);if(O(e)||t)for(const i in e)Array.isArray(e[i])||O(e[i])&&!Zt(e[i])?C(r)||Ke(n[i])?n[i]=Array.isArray(e[i])?ze(e[i],[]):{...ze(e[i])}:er(e[i],W(r)?{}:r[i],n[i]):n[i]=!pe(e[i],r[i]);return n}var at=(e,r)=>er(e,r,ze(r)),tr=(e,{valueAsNumber:r,valueAsDate:n,setValueAs:t})=>C(e)?e:r?e===""?NaN:e&&+e:n&&se(e)?new Date(e):t?t(e):e;function ot(e){const r=e.ref;if(!(e.refs?e.refs.every(n=>n.disabled):r.disabled))return _t(r)?r.files:At(r)?Jt(e.refs).value:Qt(r)?[...r.selectedOptions].map(({value:n})=>n):Me(r)?Xt(e.refs).value:tr(C(r.value)?e.ref.value:r.value,e)}var Bn=(e,r,n,t)=>{const i={};for(const l of e){const a=h(r,l);a&&T(i,l,a._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:t}},Ve=e=>C(e)?e:Ge(e)?e.source:O(e)?Ge(e.value)?e.value.source:e.value:e,Un=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function Mt(e,r,n){const t=h(e,n);if(t||wt(n))return{error:t,name:n};const i=n.split(".");for(;i.length;){const l=i.join("."),a=h(r,l),c=h(e,l);if(a&&!Array.isArray(a)&&n!==l)return{name:n};if(c&&c.type)return{name:l,error:c};i.pop()}return{name:n}}var In=(e,r,n,t,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(r||e):(n?t.isOnBlur:i.isOnBlur)?!e:(n?t.isOnChange:i.isOnChange)?e:!0,Hn=(e,r)=>!Ne(h(e,r)).length&&U(e,r);const Wn={mode:ee.onSubmit,reValidateMode:ee.onChange,shouldFocusError:!0};function qn(e={},r){let n={...Wn,...e},t={submitCount:0,isDirty:!1,isLoading:ce(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:n.errors||{},disabled:n.disabled||!1},i={},l=O(n.defaultValues)||O(n.values)?J(n.defaultValues||n.values)||{}:{},a=n.shouldUnregister?{}:J(l),c={action:!1,mount:!1,watch:!1},f={mount:new Set,unMount:new Set,array:new Set,watch:new Set},A,E=0;const m={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},b={values:it(),array:it(),state:it()},P=kt(n.mode),V=kt(n.reValidateMode),I=n.criteriaMode===ee.all,M=s=>o=>{clearTimeout(E),E=setTimeout(s,o)},B=async s=>{if(m.isValid||s){const o=n.resolver?Q((await H()).errors):await Z(i,!0);o!==t.isValid&&b.state.next({isValid:o})}},w=s=>m.isValidating&&b.state.next({isValidating:s}),k=(s,o=[],u,g,y=!0,d=!0)=>{if(g&&u){if(c.action=!0,d&&Array.isArray(h(i,s))){const v=u(h(i,s),g.argA,g.argB);y&&T(i,s,v)}if(d&&Array.isArray(h(t.errors,s))){const v=u(h(t.errors,s),g.argA,g.argB);y&&T(t.errors,s,v),Hn(t.errors,s)}if(m.touchedFields&&d&&Array.isArray(h(t.touchedFields,s))){const v=u(h(t.touchedFields,s),g.argA,g.argB);y&&T(t.touchedFields,s,v)}m.dirtyFields&&(t.dirtyFields=at(l,a)),b.state.next({name:s,isDirty:_(s,o),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else T(a,s,o)},q=(s,o)=>{T(t.errors,s,o),b.state.next({errors:t.errors})},$=s=>{t.errors=s,b.state.next({errors:t.errors,isValid:!1})},K=(s,o,u,g)=>{const y=h(i,s);if(y){const d=h(a,s,C(u)?h(l,s):u);C(d)||g&&g.defaultChecked||o?T(a,s,o?d:ot(y._f)):Y(s,d),c.mount&&B()}},ie=(s,o,u,g,y)=>{let d=!1,v=!1;const S={name:s},N=!!(h(i,s)&&h(i,s)._f.disabled);if(!u||g){m.isDirty&&(v=t.isDirty,t.isDirty=S.isDirty=_(),d=v!==S.isDirty);const ne=N||pe(h(l,s),o);v=!!(!N&&h(t.dirtyFields,s)),ne||N?U(t.dirtyFields,s):T(t.dirtyFields,s,!0),S.dirtyFields=t.dirtyFields,d=d||m.dirtyFields&&v!==!ne}if(u){const ne=h(t.touchedFields,s);ne||(T(t.touchedFields,s,u),S.touchedFields=t.touchedFields,d=d||m.touchedFields&&ne!==u)}return d&&y&&b.state.next(S),d?S:{}},oe=(s,o,u,g)=>{const y=h(t.errors,s),d=m.isValid&&ae(o)&&t.isValid!==o;if(e.delayError&&u?(A=M(()=>q(s,u)),A(e.delayError)):(clearTimeout(E),A=null,u?T(t.errors,s,u):U(t.errors,s)),(u?!pe(y,u):y)||!Q(g)||d){const v={...g,...d&&ae(o)?{isValid:o}:{},errors:t.errors,name:s};t={...t,...v},b.state.next(v)}w(!1)},H=async s=>n.resolver(a,n.context,Bn(s||f.mount,i,n.criteriaMode,n.shouldUseNativeValidation)),te=async s=>{const{errors:o}=await H(s);if(s)for(const u of s){const g=h(o,u);g?T(t.errors,u,g):U(t.errors,u)}else t.errors=o;return o},Z=async(s,o,u={valid:!0})=>{for(const g in s){const y=s[g];if(y){const{_f:d,...v}=y;if(d){const S=f.array.has(d.name),N=await Pt(y,a,I,n.shouldUseNativeValidation&&!o,S);if(N[d.name]&&(u.valid=!1,o))break;!o&&(h(N,d.name)?S?On(t.errors,N,d.name):T(t.errors,d.name,N[d.name]):U(t.errors,d.name))}v&&await Z(v,o,u)}}return u.valid},D=()=>{for(const s of f.unMount){const o=h(i,s);o&&(o._f.refs?o._f.refs.every(u=>!lt(u)):!lt(o._f.ref))&&Se(s)}f.unMount=new Set},_=(s,o)=>(s&&o&&T(a,s,o),!pe(Be(),l)),x=(s,o,u)=>$n(s,f,{...c.mount?a:C(o)?l:se(s)?{[s]:o}:o},u,o),R=s=>Ne(h(c.mount?a:l,s,e.shouldUnregister?h(l,s,[]):[])),Y=(s,o,u={})=>{const g=h(i,s);let y=o;if(g){const d=g._f;d&&(!d.disabled&&T(a,s,tr(o,d)),y=je(d.ref)&&W(o)?"":o,Qt(d.ref)?[...d.ref.options].forEach(v=>v.selected=y.includes(v.value)):d.refs?Me(d.ref)?d.refs.length>1?d.refs.forEach(v=>(!v.defaultChecked||!v.disabled)&&(v.checked=Array.isArray(y)?!!y.find(S=>S===v.value):y===v.value)):d.refs[0]&&(d.refs[0].checked=!!y):d.refs.forEach(v=>v.checked=v.value===y):_t(d.ref)?d.ref.value="":(d.ref.value=y,d.ref.type||b.values.next({name:s,values:{...a}})))}(u.shouldDirty||u.shouldTouch)&&ie(s,y,u.shouldTouch,u.shouldDirty,!0),u.shouldValidate&&Fe(s)},z=(s,o,u)=>{for(const g in o){const y=o[g],d=`${s}.${g}`,v=h(i,d);(f.array.has(s)||!Ke(y)||v&&!v._f)&&!De(y)?z(d,y,u):Y(d,y,u)}},re=(s,o,u={})=>{const g=h(i,s),y=f.array.has(s),d=J(o);T(a,s,d),y?(b.array.next({name:s,values:{...a}}),(m.isDirty||m.dirtyFields)&&u.shouldDirty&&b.state.next({name:s,dirtyFields:at(l,a),isDirty:_(s,d)})):g&&!g._f&&!W(d)?z(s,d,u):Y(s,d,u),Lt(s,f)&&b.state.next({...t}),b.values.next({name:s,values:{...a}}),!c.mount&&r()},ge=async s=>{const o=s.target;let u=o.name,g=!0;const y=h(i,u),d=()=>o.type?ot(y._f):Sn(s),v=S=>{g=Number.isNaN(S)||S===h(a,u,S)};if(y){let S,N;const ne=d(),we=s.type===Vt.BLUR||s.type===Vt.FOCUS_OUT,rr=!Un(y._f)&&!n.resolver&&!h(t.errors,u)&&!y._f.deps||In(we,h(t.touchedFields,u),t.isSubmitted,V,P),et=Lt(u,f,we);T(a,u,ne),we?(y._f.onBlur&&y._f.onBlur(s),A&&A(0)):y._f.onChange&&y._f.onChange(s);const tt=ie(u,ne,we,!1),nr=!Q(tt)||et;if(!we&&b.values.next({name:u,type:s.type,values:{...a}}),rr)return m.isValid&&B(),nr&&b.state.next({name:u,...et?{}:tt});if(!we&&et&&b.state.next({...t}),w(!0),n.resolver){const{errors:Ft}=await H([u]);if(v(ne),g){const sr=Mt(t.errors,i,u),St=Mt(Ft,i,sr.name||u);S=St.error,u=St.name,N=Q(Ft)}}else S=(await Pt(y,a,I,n.shouldUseNativeValidation))[u],v(ne),g&&(S?N=!1:m.isValid&&(N=await Z(i,!0)));g&&(y._f.deps&&Fe(y._f.deps),oe(u,N,S,tt))}},be=(s,o)=>{if(h(t.errors,o)&&s.focus)return s.focus(),1},Fe=async(s,o={})=>{let u,g;const y=st(s);if(w(!0),n.resolver){const d=await te(C(s)?s:y);u=Q(d),g=s?!y.some(v=>h(d,v)):u}else s?(g=(await Promise.all(y.map(async d=>{const v=h(i,d);return await Z(v&&v._f?{[d]:v}:v)}))).every(Boolean),!(!g&&!t.isValid)&&B()):g=u=await Z(i);return b.state.next({...!se(s)||m.isValid&&u!==t.isValid?{}:{name:s},...n.resolver||!s?{isValid:u}:{},errors:t.errors,isValidating:!1}),o.shouldFocus&&!g&&Le(i,be,s?y:f.mount),g},Be=s=>{const o={...l,...c.mount?a:{}};return C(s)?o:se(s)?h(o,s):s.map(u=>h(o,u))},Xe=(s,o)=>({invalid:!!h((o||t).errors,s),isDirty:!!h((o||t).dirtyFields,s),isTouched:!!h((o||t).touchedFields,s),error:h((o||t).errors,s)}),Je=s=>{s&&st(s).forEach(o=>U(t.errors,o)),b.state.next({errors:s?t.errors:{}})},Qe=(s,o,u)=>{const g=(h(i,s,{_f:{}})._f||{}).ref;T(t.errors,s,{...o,ref:g}),b.state.next({name:s,errors:t.errors,isValid:!1}),u&&u.shouldFocus&&g&&g.focus&&g.focus()},Ze=(s,o)=>ce(s)?b.values.subscribe({next:u=>s(x(void 0,o),u)}):x(s,o,!0),Se=(s,o={})=>{for(const u of s?st(s):f.mount)f.mount.delete(u),f.array.delete(u),o.keepValue||(U(i,u),U(a,u)),!o.keepError&&U(t.errors,u),!o.keepDirty&&U(t.dirtyFields,u),!o.keepTouched&&U(t.touchedFields,u),!n.shouldUnregister&&!o.keepDefaultValue&&U(l,u);b.values.next({values:{...a}}),b.state.next({...t,...o.keepDirty?{isDirty:_()}:{}}),!o.keepIsValid&&B()},Ue=({disabled:s,name:o,field:u,fields:g,value:y})=>{if(ae(s)){const d=s?void 0:C(y)?ot(u?u._f:h(g,o)._f):y;T(a,o,d),ie(o,d,!1,!1,!0)}},Ee=(s,o={})=>{let u=h(i,s);const g=ae(o.disabled);return T(i,s,{...u||{},_f:{...u&&u._f?u._f:{ref:{name:s}},name:s,mount:!0,...o}}),f.mount.add(s),u?Ue({field:u,disabled:o.disabled,name:s,value:o.value}):K(s,!0,o.value),{...g?{disabled:o.disabled}:{},...n.progressive?{required:!!o.required,min:Ve(o.min),max:Ve(o.max),minLength:Ve(o.minLength),maxLength:Ve(o.maxLength),pattern:Ve(o.pattern)}:{},name:s,onChange:ge,onBlur:ge,ref:y=>{if(y){Ee(s,o),u=h(i,s);const d=C(y.value)&&y.querySelectorAll&&y.querySelectorAll("input,select,textarea")[0]||y,v=Nn(d),S=u._f.refs||[];if(v?S.find(N=>N===d):d===u._f.ref)return;T(i,s,{_f:{...u._f,...v?{refs:[...S.filter(lt),d,...Array.isArray(h(l,s))?[{}]:[]],ref:{type:d.type,name:s}}:{ref:d}}}),K(s,!1,void 0,d)}else u=h(i,s,{}),u._f&&(u._f.mount=!1),(n.shouldUnregister||o.shouldUnregister)&&!(Tn(f.array,s)&&c.action)&&f.unMount.add(s)}}},Ie=()=>n.shouldFocusError&&Le(i,be,f.mount),L=s=>{ae(s)&&(b.state.next({disabled:s}),Le(i,(o,u)=>{let g=s;const y=h(i,u);y&&ae(y._f.disabled)&&(g||(g=y._f.disabled)),o.disabled=g},0,!1))},X=(s,o)=>async u=>{u&&(u.preventDefault&&u.preventDefault(),u.persist&&u.persist());let g=J(a);if(b.state.next({isSubmitting:!0}),n.resolver){const{errors:y,values:d}=await H();t.errors=y,g=d}else await Z(i);U(t.errors,"root"),Q(t.errors)?(b.state.next({errors:{}}),await s(g,u)):(o&&await o({...t.errors},u),Ie(),setTimeout(Ie)),b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Q(t.errors),submitCount:t.submitCount+1,errors:t.errors})},j=(s,o={})=>{h(i,s)&&(C(o.defaultValue)?re(s,J(h(l,s))):(re(s,o.defaultValue),T(l,s,J(o.defaultValue))),o.keepTouched||U(t.touchedFields,s),o.keepDirty||(U(t.dirtyFields,s),t.isDirty=o.defaultValue?_(s,J(h(l,s))):_()),o.keepError||(U(t.errors,s),m.isValid&&B()),b.state.next({...t}))},he=(s,o={})=>{const u=s?J(s):l,g=J(u),y=s&&!Q(s)?g:l;if(o.keepDefaultValues||(l=u),!o.keepValues){if(o.keepDirtyValues)for(const d of f.mount)h(t.dirtyFields,d)?T(y,d,h(a,d)):re(d,h(y,d));else{if(Et&&C(s))for(const d of f.mount){const v=h(i,d);if(v&&v._f){const S=Array.isArray(v._f.refs)?v._f.refs[0]:v._f.ref;if(je(S)){const N=S.closest("form");if(N){N.reset();break}}}}i={}}a=e.shouldUnregister?o.keepDefaultValues?J(l):{}:J(y),b.array.next({values:{...y}}),b.values.next({values:{...y}})}f={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!c.mount&&r(),c.mount=!m.isValid||!!o.keepIsValid,c.watch=!!e.shouldUnregister,b.state.next({submitCount:o.keepSubmitCount?t.submitCount:0,isDirty:o.keepDirty?t.isDirty:!!(o.keepDefaultValues&&!pe(s,l)),isSubmitted:o.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:o.keepDirtyValues?t.dirtyFields:o.keepDefaultValues&&s?at(l,s):{},touchedFields:o.keepTouched?t.touchedFields:{},errors:o.keepErrors?t.errors:{},isSubmitSuccessful:o.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Dt=(s,o)=>he(ce(s)?s(a):s,o);return{control:{register:Ee,unregister:Se,getFieldState:Xe,handleSubmit:X,setError:Qe,_executeSchema:H,_getWatch:x,_getDirty:_,_updateValid:B,_removeUnmounted:D,_updateFieldArray:k,_updateDisabledField:Ue,_getFieldArray:R,_reset:he,_resetDefaultValues:()=>ce(n.defaultValues)&&n.defaultValues().then(s=>{Dt(s,n.resetOptions),b.state.next({isLoading:!1})}),_updateFormState:s=>{t={...t,...s}},_disableForm:L,_subjects:b,_proxyFormState:m,_setErrors:$,get _fields(){return i},get _formValues(){return a},get _state(){return c},set _state(s){c=s},get _defaultValues(){return l},get _names(){return f},set _names(s){f=s},get _formState(){return t},set _formState(s){t=s},get _options(){return n},set _options(s){n={...n,...s}}},trigger:Fe,register:Ee,handleSubmit:X,watch:Ze,setValue:re,getValues:Be,reset:Dt,resetField:j,clearErrors:Je,unregister:Se,setError:Qe,setFocus:(s,o={})=>{const u=h(i,s),g=u&&u._f;if(g){const y=g.refs?g.refs[0]:g.ref;y.focus&&(y.focus(),o.shouldSelect&&y.select())}},getFieldState:Xe}}function Xn(e={}){const r=F.useRef(),n=F.useRef(),[t,i]=F.useState({isDirty:!1,isValidating:!1,isLoading:ce(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:ce(e.defaultValues)?void 0:e.defaultValues});r.current||(r.current={...qn(e,()=>i(a=>({...a}))),formState:t});const l=r.current.control;return l._options=e,Cn({subject:l._subjects.state,next:a=>{Ln(a,l._proxyFormState,l._updateFormState,!0)&&i({...l._formState})}}),F.useEffect(()=>l._disableForm(e.disabled),[l,e.disabled]),F.useEffect(()=>{if(l._proxyFormState.isDirty){const a=l._getDirty();a!==t.isDirty&&l._subjects.state.next({isDirty:a})}},[l,t.isDirty]),F.useEffect(()=>{e.values&&!pe(e.values,n.current)?(l._reset(e.values,l._options.resetOptions),n.current=e.values,i(a=>({...a}))):l._resetDefaultValues()},[e.values,l]),F.useEffect(()=>{e.errors&&l._setErrors(e.errors)},[e.errors,l]),F.useEffect(()=>{l._state.mount||(l._updateValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),r.current.formState=kn(t,l),r.current}export{zn as _,Xn as u};
